---
title: "ESP32를 사용하여 휴대폰과 블루투스 통신"
excerpt: "개인 프로젝트_아두이노"

categories:
  - Project
---

Arduino 사이트에서 Arduino IDE 다운받기<br>
Arduino IDE 프로그램 화면에서 툴 > 보드 > 보드 매니저에서 ESP32 검색 <br>
두 번째 다운로드 후 <br>
툴 > 보드 > ESP32 Arduino > ESP32 Dev Module <br>
ESP32 연결 후 왼쪽 아래 시작 버튼 우클릭 > <br>
장치 관리자 > 포트 클릭 후 연결한 ESP32 포트 번호 확인<br>
Arduino IDE에서 툴 > 포트 > 확인한 포트 번호 선택

```c++
#include "BluetoothSerial.h"

BluetoothSerial ESP_BT;

void setup() {
  // 시작 시리얼 통신
  Serial.begin(115200);
  
  // BluetoothSerial 초기화
  if (!ESP_BT.begin("ESP32_BT")) { // "ESP32_BT"는 블루투스 이름
    Serial.println("Bluetooth initialization failed.");
    while (1);
  }
  Serial.println("Bluetooth initialized. Device is ready to pair.");
}

void loop() {
  // 휴대폰에서 블루투스 시리얼로 수신된 데이터 확인
  if (ESP_BT.available()) {
    String receivedData = ESP_BT.readString();
    Serial.print("Received from phone: ");
    Serial.println(receivedData);
    
    // 수신된 데이터로 응답 보내기
    ESP_BT.print("Received: ");
    ESP_BT.println(receivedData);
  }
  
  // 시리얼 모니터에서 입력된 데이터 블루투스로 전송
  if (Serial.available()) {
    String dataToSend = Serial.readString();
    ESP_BT.print("From Serial Monitor: ");
    ESP_BT.println(dataToSend);
  }
  
  delay(20);
}

```
코드 입력 후 업로드<br>

Play 스토어에서 "Serial Bluetooth Terminal" 다운로드<br>

휴대폰 블루투스 설정에서 블루투스 이름 확인<br>
Serial Bluetooth Terminal 앱에서 메뉴 버튼 > Devices > Bluetooth LE > SCAN 버튼 눌러서 권한 허용하기 <br>
Bluetooth Classic에서 ESP32 연결 후 <br>
채팅에서 텍스트 입력 <br>
Arduino IDE에서 툴 > 시리얼 모니터 > 보드레이트 115200으로 변경 후 > 입력 창에 텍스트 입력해보기 <br>

서로 통신이 되는 걸 볼 수 있다.